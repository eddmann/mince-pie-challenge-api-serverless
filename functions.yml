bootstrap:
  handler: src/bootstrap.handler
  environment:
    USER_POOL_CLIENT_ID: ${file(./config.${self:provider.stage}.yml):userPoolClientId}
    BASE_ENDPOINT_URL: ${file(./config.${self:provider.stage}.yml):baseEndpointUrl}
  events:
    - http:
        path: /
        method: get
        cors: true

list-pies:
  handler: src/list.handler
  events:
    - http:
        path: /pies
        method: get
        cors: true

add-pie:
  handler: src/add.handler
  events:
    - http:
        path: /pies
        method: post
        cors: true

view-pie:
  handler: src/view.handler
  events:
    - http:
        path: /pies/{id}
        method: get
        cors: true

remove-pie:
  handler: src/remove.handler
  events:
    - http:
        path: /pies/{id}
        method: delete
        cors: true
